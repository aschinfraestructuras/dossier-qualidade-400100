<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dossier Final da Qualidade – Projeto Alba</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script>
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
  </script>
  <style>
    :root {
      --primary: #0056B3;
      --primary-dark: #004494;
      --primary-light: #2D7DD2;
      --secondary: #FF5A5F;
      --secondary-dark: #D64045;
      --success: #28a745;
      --warning: #ffc107;
      --danger: #dc3545;
      --light: #f8f9fa;
      --dark: #212529;
      --gray: #6c757d;
      --gray-dark: #343a40;
      --gray-light: #dee2e6;
      --white: #ffffff;
      --text: #333333;
      --section-bg: #f9fafb;
      --card-shadow: 0 5px 15px rgba(0, 0, 0, 0.07);
      --transition: all 0.3s ease;
      --font-sans-serif: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      --border-radius: 12px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-sans-serif);
      color: var(--text);
      background-color: var(--light);
      line-height: 1.6;
      overflow-x: hidden;
    }

    a {
      color: var(--primary);
      text-decoration: none;
      transition: var(--transition);
    }

    a:hover {
      color: var(--primary-light);
    }

    /* ===== Scrollbar Styling ===== */
    ::-webkit-scrollbar {
      width: 10px;
    }

    ::-webkit-scrollbar-track {
      background: #f1f1f1;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--primary-light);
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--primary);
    }

    /* ===== Splash Screen ===== */
    .splash-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(0, 86, 179, 0.9) 0%, rgba(0, 86, 179, 0.7) 100%), url('https://images.unsplash.com/photo-1581094794329-c8112a89af12?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80') center/cover no-repeat;
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    .splash-content {
      text-align: center;
      color: var(--white);
      max-width: 800px;
      padding: 2rem;
      transform: translateY(0);
      transition: transform 0.5s ease;
    }

    .splash-screen.fade-out {
      opacity: 0;
      pointer-events: none;
    }

    .splash-screen.fade-out .splash-content {
      transform: translateY(-50px);
    }

    .splash-logo {
      max-height: 800px;
      margin-bottom: 2rem;
      filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
    }

    .splash-title {
      font-size: 3.5rem;
      font-weight: 700;
      margin-bottom: 1rem;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .splash-subtitle {
      font-size: 1.4rem;
      opacity: 0.9;
      margin-bottom: 2.5rem;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      padding: 0.75rem 1.5rem;
      font-weight: 500;
      border-radius: var(--border-radius);
      border: none;
      cursor: pointer;
      transition: var(--transition);
      font-size: 1rem;
      text-align: center;
    }

    .btn-lg {
      padding: 1rem 2rem;
      font-size: 1.1rem;
    }

    .btn-primary {
      background: var(--white);
      color: var(--primary);
    }

    .btn-primary:hover {
      background: rgba(255, 255, 255, 0.9);
      transform: translateY(-3px);
      box-shadow: 0 7px 14px rgba(0, 0, 0, 0.1);
    }

    /* ===== Layout ===== */
    .app-container {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      visibility: hidden;
      opacity: 0;
      transition: visibility 0s 0.3s, opacity 0.3s linear;
    }

    .app-container.visible {
      visibility: visible;
      opacity: 1;
      transition: opacity 0.5s linear;
    }

    .top-navbar {
      background: var(--white);
      height: 40px;
      border-bottom: 1px solid var(--gray-light);
      display: flex;
      align-items: center;
      padding: 0 2rem;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 2px 15px rgba(0, 0, 0, 0.04);
    }

    .navbar-brand {
      margin-right: auto;
      display: flex;
      align-items: center;
    }

    .brand-logo {
      height: 20px;
    }

    .navbar-title {
      margin-left: 1rem;
      font-weight: 600;
      font-size: 1.3rem;
      color: var(--primary);
    }

    .navbar-tools {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .search-form {
      position: relative;
      width: 300px;
    }

    .search-input {
      width: 100%;
      padding: 0.7rem 1rem 0.7rem 2.8rem;
      border-radius: 30px;
      border: 1px solid var(--gray-light);
      font-size: 0.9rem;
      transition: var(--transition);
    }

    .search-input:focus {
      outline: none;
      border-color: var(--primary-light);
      box-shadow: 0 0 0 3px rgba(45, 125, 210, 0.1);
    }

    .search-icon {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray);
    }

    .menu-toggle {
      display: none;
      background: none;
      border: none;
      color: var(--primary);
      font-size: 1.5rem;
      cursor: pointer;
    }

    .main-container {
      display: flex;
      flex: 1;
    }

    /* ===== Sidebar Navigation ===== */
    .sidebar {
      width: 320px;
      background: var(--white);
      border-right: 1px solid var(--gray-light);
      height: calc(100vh - 70px);
      overflow-y: auto;
      transition: transform 0.3s ease;
      position: sticky;
      top: 70px;
    }

    .sidebar-header {
      padding: 1.5rem;
      border-bottom: 1px solid var(--gray-light);
    }

    .sidebar-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 0.7rem;
    }

    .search-chapters {
      margin-top: 1rem;
      position: relative;
    }

    .chapter-search {
      width: 100%;
      padding: 0.7rem 1rem 0.7rem 2.8rem;
      border-radius: var(--border-radius);
      border: 1px solid var(--gray-light);
      font-size: 0.9rem;
      transition: var(--transition);
    }

    .chapter-search:focus {
      outline: none;
      border-color: var(--primary-light);
      box-shadow: 0 0 0 3px rgba(45, 125, 210, 0.1);
    }

    .chapter-search-icon {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray);
    }

    .navigation {
      padding: 1rem 0;
    }

    .nav-category {
      margin-bottom: 0.5rem;
    }

    .category-header {
      padding: 1rem 1.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
      transition: var(--transition);
      border-left: 3px solid transparent;
    }

    .category-header:hover {
      background: var(--section-bg);
    }

    .nav-category.active .category-header {
      border-left-color: var(--primary);
      background: var(--section-bg);
    }

    .header-title {
      display: flex;
      align-items: center;
      gap: 0.7rem;
      font-weight: 500;
    }

    .header-title i {
      font-size: 1.1rem;
      color: var(--primary);
      width: 22px;
      text-align: center;
    }

    .chevron-icon {
      transition: transform 0.3s ease;
    }

    .nav-category.active .chevron-icon {
      transform: rotate(180deg);
    }

    .category-menu {
      display: none;
      margin-left: 1.2rem;
    }

    .nav-category.active .category-menu {
      display: block;
    }

    .nav-item {
      padding: 0.75rem 1.5rem 0.75rem 3rem;
      cursor: pointer;
      transition: var(--transition);
      position: relative;
      display: flex;
      align-items: center;
      gap: 0.7rem;
      border-left: 3px solid transparent;
    }

    .nav-item:hover {
      background: var(--section-bg);
    }

    .nav-item.active {
      background: var(--section-bg);
      border-left-color: var(--primary);
      font-weight: 500;
    }

    .nav-item i {
      color: var(--primary);
      width: 18px;
      text-align: center;
    }

    /* ===== Main Content ===== */
    .main-content {
      flex: 1;
      padding: 2rem;
      background: var(--light);
      min-height: calc(100vh - 70px);
    }

    .breadcrumb {
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      margin-bottom: 2rem;
      font-size: 0.95rem;
    }

    .breadcrumb-item {
      display: flex;
      align-items: center;
    }

    .breadcrumb-item:not(:last-child)::after {
      content: "/";
      margin: 0 0.5rem;
      color: var(--gray);
    }

    .breadcrumb-item:last-child {
      font-weight: 500;
      color: var(--text);
    }

    .welcome-content {
      max-width: 1200px;
      margin: 0 auto;
    }

    .page-header {
      margin-bottom: 2.5rem;
    }

    .page-title {
      font-size: 2.2rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 0.5rem;
    }

    .page-subtitle {
      color: var(--gray);
      font-size: 1.1rem;
    }

    .dashboard-cards {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2.5rem;
    }

    .dashboard-card {
      background: var(--white);
      border-radius: var(--border-radius);
      box-shadow: var(--card-shadow);
      padding: 1.5rem;
      transition: var(--transition);
      display: flex;
      flex-direction: column;
    }

    .dashboard-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
    }

    .card-label {
      font-size: 0.9rem;
      color: var(--gray);
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.7rem;
    }

    .card-label i {
      color: var(--primary);
      font-size: 1rem;
    }

    .card-value {
      font-size: 1.2rem;
      font-weight: 600;
    }

    .section-container {
      background: var(--white);
      border-radius: var(--border-radius);
      box-shadow: var(--card-shadow);
      padding: 2rem;
      margin-bottom: 2.5rem;
    }

    .section-title {
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.7rem;
    }

    .section-title i {
      color: var(--primary);
    }

    .introduction-text {
      margin-bottom: 1.5rem;
      line-height: 1.7;
    }

    .introduction-text p {
      margin-bottom: 1rem;
    }

    .introduction-text p:last-child {
      margin-bottom: 0;
    }

    .team-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
      gap: 1.5rem;
    }

    .team-member {
      background: var(--section-bg);
      border-radius: var(--border-radius);
      padding: 1.5rem;
      text-align: center;
      transition: var(--transition);
      border-top: 4px solid var(--primary);
    }

    .team-member:hover {
      transform: translateY(-5px);
      box-shadow: var(--card-shadow);
    }

    .member-position {
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: var(--primary);
    }

    .member-role {
      font-size: 0.85rem;
      color: var(--gray);
      margin-bottom: 0.5rem;
    }

    .member-name {
      font-weight: 500;
    }

    .action-buttons {
      display: flex;
      gap: 1rem;
      margin-top: 2rem;
      flex-wrap: wrap;
    }

    .btn-outlined {
      background: transparent;
      color: var(--primary);
      border: 2px solid var(--primary);
    }

    .btn-outlined:hover {
      background: var(--primary);
      color: var(--white);
    }

    /* ===== PDF Viewer ===== */
    .pdf-viewer {
      background: var(--white);
      border-radius: var(--border-radius);
      box-shadow: var(--card-shadow);
      overflow: hidden;
      display: none;
    }

    .pdf-viewer.active {
      display: block;
    }

    .pdf-header {
      padding: 1.5rem;
      border-bottom: 1px solid var(--gray-light);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .pdf-title {
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--primary);
    }

    .pdf-meta {
      display: flex;
      gap: 1.5rem;
      color: var(--gray);
      font-size: 0.9rem;
    }

    .pdf-container {
      height: 75vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: var(--section-bg);
      position: relative;
      overflow: auto;
    }

    #pdf-canvas {
      max-width: 100%;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
    }

    .loading-indicator {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.8);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }

    .loading-indicator.hidden {
      display: none;
    }

    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid rgba(0, 0, 0, 0.1);
      border-radius: 50%;
      border-top: 4px solid var(--primary);
      animation: spin 1s linear infinite;
      margin-bottom: 1rem;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .loading-text {
      font-weight: 500;
    }

    .pdf-controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 1.5rem;
      border-top: 1px solid var(--gray-light);
      background: var(--white);
    }

    .pdf-navigation, .pdf-zoom {
      display: flex;
      align-items: center;
      gap: 0.7rem;
    }

    .page-info {
      font-size: 0.9rem;
    }

    .btn-control {
      background: var(--white);
      color: var(--text);
      border: 1px solid var(--gray-light);
      padding: 0.6rem 1rem;
      border-radius: var(--border-radius);
      cursor: pointer;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      transition: var(--transition);
    }

    .btn-control:hover {
      background: var(--primary);
      color: var(--white);
      border-color: var(--primary);
    }

    .zoom-level {
      font-size: 0.9rem;
      min-width: 60px;
      text-align: center;
    }

    /* ===== Search Modal ===== */
    .search-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(5px);
      z-index: 1000;
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      visibility: hidden;
      transition: var(--transition);
    }

    .search-modal.active {
      opacity: 1;
      visibility: visible;
    }

    .modal-content {
      background: var(--white);
      border-radius: var(--border-radius);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
      width: 90%;
      max-width: 800px;
      max-height: 80vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      transform: translateY(30px);
      transition: transform 0.3s ease;
    }

    .search-modal.active .modal-content {
      transform: translateY(0);
    }

    .modal-header {
      padding: 1.5rem;
      border-bottom: 1px solid var(--gray-light);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .modal-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--primary);
    }

    .close-modal {
      background: none;
      border: none;
      color: var(--gray);
      font-size: 1.5rem;
      cursor: pointer;
      transition: var(--transition);
    }

    .close-modal:hover {
      color: var(--danger);
    }

    .search-results {
      flex: 1;
      overflow-y: auto;
      padding: 1.5rem;
    }

    .result-item {
      padding: 1rem;
      border-bottom: 1px solid var(--gray-light);
      cursor: pointer;
      transition: var(--transition);
    }

    .result-item:hover {
      background: var(--section-bg);
    }

    .result-item:last-child {
      border-bottom: none;
    }

    .result-title {
      font-weight: 500;
      margin-bottom: 0.5rem;
      color: var(--primary);
    }

    .result-snippet {
      font-size: 0.9rem;
      color: var(--gray-dark);
      margin-bottom: 0.5rem;
    }

    .result-meta {
      font-size: 0.8rem;
      color: var(--gray);
    }

    .highlight {
      background: rgba(255, 193, 7, 0.3);
      padding: 0 2px;
      border-radius: 2px;
    }

    /* ===== Footer ===== */
    .footer {
      background: var(--white);
      border-top: 1px solid var(--gray-light);
      padding: 1.5rem 2rem;
      text-align: center;
    }

    .footer-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      max-width: 1200px;
      margin: 0 auto;
    }

    .footer-logo {
      height: 25px;
    }

    .footer-text {
      font-size: 0.9rem;
      color: var(--gray);
    }

    /* ===== Responsive Styles ===== */
    @media (max-width: 992px) {
      .splash-title {
        font-size: 2.8rem;
      }

      .splash-subtitle {
        font-size: 1.2rem;
      }

      .top-navbar {
        padding: 0 1rem;
      }

      .navbar-title {
        font-size: 1.1rem;
      }

      .dashboard-cards {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      }
    }

    @media (max-width: 768px) {
      .splash-title {
        font-size: 2.2rem;
      }

      .splash-subtitle {
        font-size: 1.1rem;
      }

      .menu-toggle {
        display: block;
        margin-right: 1rem;
      }

      .search-form {
        width: auto;
        flex: 1;
        margin-right: 1rem;
      }

      .sidebar {
        position: fixed;
        top: 70px;
        left: -320px;
        z-index: 90;
        box-shadow: 5px 0 15px rgba(0, 0, 0, 0.1);
      }

      .sidebar.active {
        left: 0;
      }

      .main-content {
        padding: 1.5rem;
      }

      .page-title {
        font-size: 1.8rem;
      }

      .dashboard-cards {
        grid-template-columns: 1fr;
      }

      .team-grid {
        grid-template-columns: 1fr;
      }

      .footer-content {
        flex-direction: column;
        gap: 1rem;
      }
    }

    @media (max-width: 576px) {
      .splash-title {
        font-size: 1.8rem;
      }

      .splash-logo {
        max-height: 80px;
      }

      .navbar-title {
        display: none;
      }

      .section-container {
        padding: 1.5rem;
      }

      .pdf-header {
        flex-direction: column;
        align-items: flex-start;
      }

      .pdf-meta {
        margin-top: 0.5rem;
        gap: 1rem;
      }

      .pdf-controls {
        flex-direction: column;
        gap: 1rem;
      }

      .pdf-container {
        height: 60vh;
      }
    }
  </style>
</head>
<body>
  <!-- Splash Screen / Capa Inicial -->
  <div class="splash-screen" id="splash-screen">
    <div class="splash-content">
      <img src="assets/images/logoasch.png"
      <h1 class="splash-title">Dossier Final da Qualidade</h1>
      <p class="splash-subtitle">Projeto Alba – Nuevas Plantas de Poliolefinas, Plataformas Logísticas y Offsites</p>
      <button class="btn btn-primary btn-lg" onclick="enterDossier()">
        <i class="fas fa-book-open"></i> Entrar no Dossier
      </button>
    </div>
  </div>

  <!-- Conteúdo Principal da Aplicação -->
  <div class="app-container" id="app-container">
    <!-- Top Navigation Bar -->
    <header class="top-navbar">
      <button class="menu-toggle" onclick="toggleSidebar()">
        <i class="fas fa-bars"></i>
      </button>
      <div class="navbar-brand">
        <img src="assets/images/logoasch.png"
        <div class="navbar-title">Dossier da Qualidade</div>
      </div>
      <div class="navbar-tools">
        <form class="search-form">
          <i class="fas fa-search search-icon"></i>
          <input type="text" class="search-input" placeholder="Pesquisar no dossier..." id="global-search">
        </form>
      </div>
    </header>

    <div class="main-container">
      <!-- Sidebar Navigation -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
          <h2 class="sidebar-title">
            <i class="fas fa-folder"></i> Índice do Dossier
          </h2>
          <div class="search-chapters">
            <i class="fas fa-search chapter-search-icon"></i>
            <input type="text" class="chapter-search" placeholder="Filtrar capítulos..." id="chapter-search" oninput="filterChapters()">
          </div>
        </div>

        <div class="navigation">
          <div class="nav-category" data-section="sgq">
            <div class="category-header" onclick="toggleCategory(this.parentElement)">
              <div class="header-title">
                <i class="fas fa-tasks"></i>
                <span>1.0 – Sistema de Gestão da Qualidade</span>
              </div>
              <i class="fas fa-chevron-down chevron-icon"></i>
            </div>
            <div class="category-menu">
              <div class="nav-item" onclick="loadPdf('PQ.pdf', '1.1 – Plano da Qualidade (PQ)')">
                <i class="fas fa-clipboard-list"></i>
                <span>1.1 – Plano da Qualidade (PQ)</span>
              </div>
              <div class="nav-item" onclick="loadPdf('teste.pdf', '1.2 – Plano de Inspeção e Ensaios (PIE)')">
                <i class="fas fa-vial"></i>
                <span>1.2 – Plano de Inspeção e Ensaios (PIE)</span>
              </div>
              <div class="nav-item" onclick="loadPdf('df-capitulo 1.1.pdf', '1.3 – Certificados de Calibração')">
                <i class="fas fa-ruler"></i>
                <span>1.3 – Certificados de Calibração</span>
              </div>
              <div class="nav-item" onclick="loadPdf('PQ.pdf', '1.4 – Certificados de Materiais')">
                <i class="fas fa-file-contract"></i>
                <span>1.4 – Certificados de Materiais</span>
              </div>
              <div class="nav-item" onclick="loadPdf('PQ.pdf', '1.5 – Estudos de Materiais')">
                <i class="fas fa-chart-bar"></i>
                <span>1.5 – Estudos de Materiais</span>
              </div>
              <div class="nav-item" onclick="loadPdf('PQ.pdf', '1.6 – Não Conformidades')">
                <i class="fas fa-exclamation-triangle"></i>
                <span>1.6 – Não Conformidades</span>
              </div>
              <div class="nav-item" onclick="loadPdf('PQ.pdf', '1.7 – Plano de Pontos de Inspeção')">
                <i class="fas fa-check-square"></i>
                <span>1.7 – Plano de Pontos de Inspeção</span>
              </div>
              <div class="nav-item" onclick="loadPdf('PQ.pdf', '1.8 – Punch List')">
                <i class="fas fa-clipboard-check"></i>
                <span>1.8 – Punch List</span>
              </div>
            </div>
          </div>

          <div class="nav-category" data-section="execucao">
            <div class="category-header" onclick="toggleCategory(this.parentElement)">
              <div class="header-title">
                <i class="fas fa-hard-hat"></i>
                <span>2.0 – Execução do Projeto</span>
              </div>
              <i class="fas fa-chevron-down chevron-icon"></i>
            </div>
            <div class="category-menu">
              <div class="nav-item" onclick="loadPdf('PQ.pdf', '2.1 – Obra Civil')">
                <i class="fas fa-building"></i>
                <span>2.1 – Obra Civil</span>
              </div>
              <div class="nav-item" onclick="loadPdf('java.pdf', '2.2 – Piping')">
                <i class="fas fa-project-diagram"></i>
                <span>2.2 – Piping</span>
              </div>
            </div>
          </div>

          <div class="nav-category" data-section="documentos">
            <div class="category-header" onclick="toggleCategory(this.parentElement)">
              <div class="header-title">
                <i class="fas fa-drafting-compass"></i>
                <span>3.0 – Documentos de Engenharia</span>
              </div>
              <i class="fas fa-chevron-down chevron-icon"></i>
            </div>
            <div class="category-menu">
              <div class="nav-item" onclick="loadPdf('PQ.pdf', '3.1 – Especificações Técnicas')">
                <i class="fas fa-file-alt"></i>
                <span>3.1 – Especificações Técnicas</span>
              </div>
              <div class="nav-item" onclick="loadPdf('teste.pdf', '3.2 – Planos Construtivos')">
                <i class="fas fa-blueprint"></i>
                <span>3.2 – Planos Construtivos</span>
              </div>
              <div class="nav-item" onclick="loadPdf('PQ.pdf', '3.3 – Planos Red Mark (Line)')">
                <i class="fas fa-edit"></i>
                <span>3.3 – Planos Red Mark (Line)</span>
              </div>
              <div class="nav-item" onclick="loadPdf('df-capitulo 1.1.pdf', '3.4 – Planos As-Built')">
                <i class="fas fa-draw-polygon"></i>
                <span>3.4 – Planos As-Built</span>
              </div>
            </div>
          </div>
        </div>
      </aside>

      <!-- Main Content Area -->
      <main class="main-content">
        <div class="breadcrumb">
          <div class="breadcrumb-item"><a href="#" onclick="showWelcomeContent()">Início</a></div>
          <div class="breadcrumb-item" id="current-section">Visão Geral</div>
        </div>

        <!-- Welcome Content / Dashboard -->
        <div class="welcome-content" id="welcome-content">
          <header class="page-header">
            <h1 class="page-title">Dossier Final da Qualidade</h1>
            <p class="page-subtitle">Projeto Alba – Nuevas Plantas de Poliolefinas, Plataformas Logísticas y Offsites</p>
          </header>

          <div class="dashboard-cards">
            <div class="dashboard-card">
              <div class="card-label"><i class="fas fa-building"></i> Cliente</div>
              <div class="card-value">REPSOL POLÍMEROS</div>
            </div>
            <div class="dashboard-card">
              <div class="card-label"><i class="fas fa-hard-hat"></i> Empreiteiro</div>
              <div class="card-value">ASCH INFRAESTRUCTURAS Y SERVICIOS S.A.</div>
            </div>
            <div class="dashboard-card">
              <div class="card-label"><i class="fas fa-calendar-alt"></i> Data de Início</div>
              <div class="card-value">Junho 2023</div>
            </div>
            <div class="dashboard-card">
              <div class="card-label"><i class="fas fa-flag-checkered"></i> Data de Conclusão</div>
              <div class="card-value">31/03/2025</div>
            </div>
            <div class="dashboard-card">
              <div class="card-label"><i class="fas fa-file-alt"></i> Documento Nº</div>
              <div class="card-value">R007</div>
            </div>
            <div class="dashboard-card">
              <div class="card-label"><i class="fas fa-code-branch"></i> Versão</div>
              <div class="card-value">Rev.000</div>
            </div>
          </div>

          <div class="section-container">
            <h2 class="section-title"><i class="fas fa-info-circle"></i> Introdução</h2>
            <div class="introduction-text">
              <p>Este dossier de qualidade apresenta toda a documentação relativa ao sistema de gestão da qualidade implementado na empreitada 4001008 - "Nuevas Plantas de Poliolefinas, Plataformas Logísticas Y Offsites".</p>
              <p>O dossier está estruturado de forma a facilitar a consulta e verificação de todos os registos e documentos que atestam a conformidade da obra com os requisitos contratuais, normativos e legais aplicáveis.</p>
            </div>
          </div>

          <div class="section-container">
            <h2 class="section-title"><i class="fas fa-users"></i> Equipa Responsável</h2>
            <div class="team-grid">
              <div class="team-member">
                <div class="member-position">ELABORADO</div>
                <div class="member-role">QUALIDADE</div>
                <div class="member-name">José Antunes</div>
              </div>
              <div class="team-member">
                <div class="member-position">VERIFICADO</div>
                <div class="member-role">DIRECTOR TÉCNICO</div>
                <div class="member-name">Mário Cristiano</div>
              </div>
              <div class="team-member">
                <div class="member-position">APROVADO</div>
                <div class="member-role">DIRECTOR DE OBRA</div>
                <div class="member-name">Luis Salvado</div>
              </div>
              <div class="team-member">
                <div class="member-position">DELEGADO</div>
                <div class="member-role">REPSOL</div>
                <div class="member-name">Gustavo Martínez</div>
              </div>
            </div>

            <div class="action-buttons">
              <button class="btn btn-primary" onclick="openFirstPdf()">
                <i class="fas fa-file-pdf"></i> Ver Plano da Qualidade
              </button>
              <a href="PQ.pdf" download class="btn btn-outlined">
                <i class="fas fa-download"></i> Download Dossier Completo
              </a>
            </div>
          </div>
        </div>

        <!-- PDF Viewer -->
        <div class="pdf-viewer" id="pdf-viewer">
          <div class="pdf-header">
            <div class="pdf-title" id="pdf-title">Documento</div>
            <div class="pdf-meta">
              <span id="pdf-meta-date">Data: --/--/----</span>
              <span id="pdf-meta-revision">Revisão: --</span>
            </div>
          </div>

          <div class="pdf-container">
            <div class="loading-indicator hidden" id="pdf-loading">
              <div class="spinner"></div>
              <p class="loading-text">Carregando documento...</p>
            </div>
            <canvas id="pdf-canvas"></canvas>
          </div>

          <div class="pdf-controls">
            <div class="pdf-navigation">
              <button class="btn-control" id="prev">
                <i class="fas fa-chevron-left"></i> Anterior
              </button>
              <span class="page-info">Página <span id="page-num">0</span> de <span id="page-count">0</span></span>
              <button class="btn-control" id="next">
                Próxima <i class="fas fa-chevron-right"></i>
              </button>
            </div>
            <div class="pdf-zoom">
              <button class="btn-control" id="zoom-out">
                <i class="fas fa-search-minus"></i>
              </button>
              <span class="zoom-level" id="zoom-level">100%</span>
              <button class="btn-control" id="zoom-in">
                <i class="fas fa-search-plus"></i>
              </button>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <img src="assets/images/logoasch.png"
        <div class="footer-text">
          <p>&copy; 2025 ASCH INFRAESTRUCTURAS Y SERVICIOS S.A. - Todos os direitos reservados</p>
          <p>Dossier de Qualidade - Rev.000</p>
        </div>
      </div>
    </footer>
  </div>

  <!-- Search Results Modal -->
  <div class="search-modal" id="search-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Resultados da Pesquisa: <span id="search-term"></span></h3>
        <button class="close-modal" onclick="closeSearchModal()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="search-results" id="search-results">
        <!-- Search results will be populated here -->
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    // Variáveis para o visualizador de PDF
    let pdfDoc = null;
    let pageNum = 1;
    let pageRendering = false;
    let pageNumPending = null;
    let scale = 1.5;
    let zoomLevel = 100;
    let canvas = document.getElementById('pdf-canvas');
    let ctx = canvas.getContext('2d');

    // Função para entrar no dossier
    function enterDossier() {
      const splashScreen = document.getElementById('splash-screen');
      const appContainer = document.getElementById('app-container');
      
      // Animar a transição
      splashScreen.classList.add('fade-out');
      
      // Mostrar o conteúdo principal após a animação
      setTimeout(() => {
        splashScreen.style.display = 'none';
        appContainer.classList.add('visible');
      }, 500);
    }

    // Função para alternar o menu lateral em dispositivos móveis
    function toggleSidebar() {
      document.getElementById('sidebar').classList.toggle('active');
    }

    // Função para alternar as categorias do menu
    function toggleCategory(category) {
      category.classList.toggle('active');
    }

    // Função para filtrar os capítulos na busca
    function filterChapters() {
      const query = document.getElementById('chapter-search').value.toLowerCase();
      document.querySelectorAll('.nav-category').forEach(category => {
        const categoryText = category.innerText.toLowerCase();
        const match = categoryText.includes(query);
        category.style.display = match ? 'block' : 'none';
      });
    }

    // Função para mostrar o conteúdo de boas-vindas
    function showWelcomeContent() {
      document.getElementById('welcome-content').style.display = 'block';
      document.getElementById('pdf-viewer').classList.remove('active');
      document.getElementById('current-section').textContent = 'Visão Geral';
    }

    // Função para carregar um PDF
    function loadPdf(pdfPath, title) {
      // Mostrar o visualizador de PDF
      document.getElementById('welcome-content').style.display = 'none';
      document.getElementById('pdf-viewer').classList.add('active');
      document.getElementById('pdf-title').textContent = title || 'Documento';
      document.getElementById('current-section').textContent = title || 'Documento';
      
      // Esconder a barra lateral em dispositivos móveis
      if (window.innerWidth < 768) {
        document.getElementById('sidebar').classList.remove('active');
      }
      
      // Resetar estado
      if (pdfDoc) {
        pdfDoc = null;
        pageNum = 1;
        scale = 1.5;
        zoomLevel = 100;
        document.getElementById('zoom-level').textContent = '100%';
      }
      
      // Mostrar indicador de carregamento
      document.getElementById('pdf-loading').classList.remove('hidden');
      
      // Carregar o PDF
      pdfjsLib.getDocument(pdfPath).promise
        .then(function(pdfDoc_) {
          // PDF carregado
          pdfDoc = pdfDoc_;
          
          // Atualizar contagem de páginas
          document.getElementById('page-count').textContent = pdfDoc.numPages;
          document.getElementById('page-num').textContent = pageNum;
          
          // Esconder indicador de carregamento
          document.getElementById('pdf-loading').classList.add('hidden');
          
          // Renderizar primeira página
          renderPage(pageNum);
          
          // Atualizar metadados do documento
          const today = new Date();
          const formattedDate = today.toLocaleDateString('pt-PT');
          document.getElementById('pdf-meta-date').textContent = 'Data: ' + formattedDate;
          document.getElementById('pdf-meta-revision').textContent = 'Revisão: Rev.000';
        })
        .catch(function(error) {
          console.error('Erro ao carregar o PDF:', error);
          document.getElementById('pdf-loading').classList.add('hidden');
          
          // Mostrar mensagem de erro
          const errorDiv = document.createElement('div');
          errorDiv.style.padding = '2rem';
          errorDiv.style.textAlign = 'center';
          errorDiv.style.color = '#dc3545';
          errorDiv.innerHTML = '<i class="fas fa-exclamation-triangle" style="font-size: 2rem; margin-bottom: 1rem;"></i><p>Não foi possível carregar o documento PDF. Por favor, tente novamente mais tarde.</p>';
          document.querySelector('.pdf-container').appendChild(errorDiv);
          
          // Atualizar elementos de navegação
          document.getElementById('page-count').textContent = '0';
          document.getElementById('page-num').textContent = '0';
        });
    }

    // Função para renderizar uma página do PDF
    function renderPage(num) {
      pageRendering = true;
      
      // Buscar a página
      pdfDoc.getPage(num).then(function(page) {
        // Ajustar canvas para dimensões da página
        const viewport = page.getViewport({ scale });
        canvas.height = viewport.height;
        canvas.width = viewport.width;
        
        // Renderizar a página no canvas
        const renderContext = {
          canvasContext: ctx,
          viewport: viewport
        };
        
        const renderTask = page.render(renderContext);
        
        // Aguardar a renderização
        renderTask.promise.then(function() {
          pageRendering = false;
          
          if (pageNumPending !== null) {
            // Nova renderização pendente
            renderPage(pageNumPending);
            pageNumPending = null;
          }
        });
      });
      
      // Atualizar número da página atual
      document.getElementById('page-num').textContent = num;
    }

    // Função para enfileirar renderização para evitar concorrência
    function queueRenderPage(num) {
      if (pageRendering) {
        pageNumPending = num;
      } else {
        renderPage(num);
      }
    }

    // Função para ir para página anterior
    function prevPage() {
      if (pageNum <= 1 || !pdfDoc) {
        return;
      }
      pageNum--;
      queueRenderPage(pageNum);
    }

    // Função para ir para próxima página
    function nextPage() {
      if (!pdfDoc || pageNum >= pdfDoc.numPages) {
        return;
      }
      pageNum++;
      queueRenderPage(pageNum);
    }

    // Função para aumentar zoom
    function zoomIn() {
      if (zoomLevel >= 200) return;
      
      zoomLevel += 25;
      scale += 0.25;
      document.getElementById('zoom-level').textContent = zoomLevel + '%';
      queueRenderPage(pageNum);
    }

    // Função para diminuir zoom
    function zoomOut() {
      if (zoomLevel <= 50) return;
      
      zoomLevel -= 25;
      scale -= 0.25;
      document.getElementById('zoom-level').textContent = zoomLevel + '%';
      queueRenderPage(pageNum);
    }

    // Função para abrir o primeiro PDF
    function openFirstPdf() {
      loadPdf('PQ.pdf', '1.1 – Plano da Qualidade (PQ)');
    }

    // Função para fechar o modal de pesquisa
    function closeSearchModal() {
      document.getElementById('search-modal').classList.remove('active');
    }

    // Função para realizar pesquisa
    function performSearch(term) {
      // Esta é uma simulação de resultados de pesquisa
      // Em um ambiente de produção, você implementaria uma busca real nos PDFs
      
      document.getElementById('search-term').textContent = term;
      document.getElementById('search-modal').classList.add('active');
      
      const searchResults = document.getElementById('search-results');
      searchResults.innerHTML = '<div class="loading-indicator" style="padding: 2rem;"><div class="spinner"></div><p>Pesquisando documentos...</p></div>';
      
      // Simular tempo de carregamento
      setTimeout(() => {
        searchResults.innerHTML = `
          <div class="result-item" onclick="loadPdf('PQ.pdf', '1.1 – Plano da Qualidade (PQ)')">
            <div class="result-title">1.1 – Plano da Qualidade</div>
            <div class="result-snippet">...sistema de gestão da <span class="highlight">${term}</span> implementado na empreitada 4001008...</div>
            <div class="result-meta">Capítulo 1 • Rev.000 • 04/07/2023</div>
          </div>
          <div class="result-item" onclick="loadPdf('df-capitulo 1.1.pdf', '1.3 – Certificados de Calibração')">
            <div class="result-title">1.3 – Certificados de Calibração</div>
            <div class="result-snippet">...instrumentos calibrados conforme o plano de <span class="highlight">${term}</span> do projeto...</div>
            <div class="result-meta">Capítulo 1 • Rev.001 • 15/09/2023</div>
          </div>
          <div class="result-item" onclick="loadPdf('PQ.pdf', '2.1 – Obra Civil')">
            <div class="result-title">2.1 – Obra Civil</div>
            <div class="result-snippet">...requisitos de <span class="highlight">${term}</span> aplicáveis às estruturas de concreto...</div>
            <div class="result-meta">Capítulo 2 • Rev.000 • 22/11/2023</div>
          </div>
        `;
      }, 1500);
    }

    // Inicialização quando o DOM estiver carregado
    document.addEventListener('DOMContentLoaded', function() {
      // Ativar a primeira categoria por padrão
      document.querySelector('.nav-category').classList.add('active');
      
      // Adicionar eventos aos botões de navegação do PDF
      document.getElementById('prev').addEventListener('click', prevPage);
      document.getElementById('next').addEventListener('click', nextPage);
      document.getElementById('zoom-in').addEventListener('click', zoomIn);
      document.getElementById('zoom-out').addEventListener('click', zoomOut);
      
      // Adicionar evento de pesquisa
      document.querySelector('.search-form').addEventListener('submit', function(e) {
        e.preventDefault();
        const searchTerm = document.getElementById('global-search').value.trim();
        if (searchTerm.length > 2) {
          performSearch(searchTerm);
        }
      });
      
      // Permitir pesquisa ao pressionar Enter
      document.getElementById('global-search').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          e.preventDefault();
          const searchTerm = this.value.trim();
          if (searchTerm.length > 2) {
            performSearch(searchTerm);
          }
        }
      });
      
      // Adaptar o visualizador em dispositivos móveis
      if (window.innerWidth < 768) {
        scale = 1.0;
        zoomLevel = 67;
        document.getElementById('zoom-level').textContent = '67%';
      }
    });

    // Navegação do PDF por teclado
    document.addEventListener('keydown', function(e) {
      if (!pdfDoc) return;
      
      if (e.key === 'ArrowLeft' || e.key === 'PageUp') {
        prevPage();
      } else if (e.key === 'ArrowRight' || e.key === 'PageDown') {
        nextPage();
      } else if (e.key === '+' || e.key === '=') {
        zoomIn();
      } else if (e.key === '-' || e.key === '_') {
        zoomOut();
      }
    });
  </script>
</body>
</html>
